<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View Checklist</title>
    <link rel="icon" type="image/png" href="./assets/img/fate_logo.png">
    <link rel="stylesheet" href="./assets/css/style.css">
    <script type="module" src="./assets/js/core/app.js"></script>
</head>
<body>
    <header>
        <details class="menu" id="main-menu" role="menu">
            <summary role="button" aria-haspopup="menu" aria-expanded="false">
                <a class="button">
                    <span class="open-icon">☰</span>
                    <span class="close-icon">✖</span>
                </a>
            </summary>
            <ul>
                <li><hr class="link-separator"></li>
                <li><input type="file" id="file-input" accept=".json"></li>
                <li><a href="#" id="import-btn">Importar</a></li>
                <li><a href="#" id="export-btn">Exportar</a></li>
                <li><a href="#" id="report-btn">Generar Reporte</a></li>
                <li><a href="#" id="reset-memory-btn">Borrar memoria</a></li>
                <li><a href="#" id="reset-progress-btn">Resetear progreso</a></li>
                <li><hr class="link-separator"></li>
            </ul>
        </details>
        <h1><span id="franchise-main-title"></span> Checklist</h1>
        <p>Seguimiento de tu progreso en el universo <span id="franchise-text"></span></p>
        <button class="theme-toggle" id="themeToggle">🌙</button>
    </header>

    <nav class="controls">
        <section class="filters">
            <button class="filter-btn active" data-filter="all">Todos</button>
            <button class="filter-btn" data-filter="completed">Completados</button>
            <button class="filter-btn" data-filter="incomplete">No completados</button>
        </section>
    </nav>

    <main id="checklist-container">
        <!-- El contenido se generará dinámicamente con JavaScript -->
    </main>

    <footer class="total-progress">
        <h3>Progreso Total</h3>
        <progress id="complete-progress-bar" class="progress-bar" value="0" max="100"></progress>
        <section class="stats">
            <article class="stat">
                <p class="stat-number" id="completed-items">0</p>
                <p class="stat-label">Completados</p>
            </article>
            <article class="stat">
                <p class="stat-number" id="total-items">0</p>
                <p class="stat-label">Total</p>
            </article>
            <article class="stat">
                <p class="stat-number" id="percentage">0%</p>
                <p class="stat-label">Completado</p>
            </article>
        </section>
    </footer>

    <dialog class="modal" id="multifunction-modal" aria-labelledby="modal-title" role="dialog" aria-hidden="true">
        
        <!-- SECCIÓN CONFIRMACIÓN -->
        <section id="confirm-section" class="modal-section" hidden aria-hidden="true">
            <header class="confirm-header">
                <h3>Confirmar acción</h3>
            </header>
            <article class="confirm-content">
                <p id="confirm-message"><!-- Mensaje dinámico específico --></p>
                <p>Se perderán los cambios no guardados. ¿Estás seguro de que quieres continuar?</p>
                <footer class="modal-buttons">
            </article>
            <footer class="confirm-footer">
                <button class="btn-confirm" id="confirm-action-btn">Confirmar</button>
                <button class="btn-cancel" id="cancel-action-btn">Cancelar</button>
            </footer>
        </section>

        <!-- SECCIÓN DINÁMICA -->
        <section id="dynamic-section" class="modal-section" hidden aria-hidden="true">
            <h3 id="dynamic-title"><!-- Título dinámico --></h3>
            <article id="dynamic-content"><!-- Contenido dinámico --></article>
            <button class="btn-close" id="dynamic-close-btn">Cerrar</button>
        </section>

    </dialog>
    <aside class="notification" id="notification">
        Operación realizada con éxito
    </aside>
</body>
</html>